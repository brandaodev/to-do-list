<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Todo List Firebase</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- Container principal da aplica√ß√£o -->
    <div class="app-container">
      <!-- Cabe√ßalho com t√≠tulo e estat√≠sticas -->
      <header class="app-header">
        <div class="container">
          <div class="header-content">
            <h1 class="app-title">‚â° Todo List Firebase</h1>
            <!-- Estat√≠sticas em tempo real -->
            <div class="stats-container">
              <div class="stat-item">
                <span class="stat-number" id="totalTasks">0</span>
                <span class="stat-label">TOTAL</span>
              </div>
              <div class="stat-item">
                <span class="stat-number" id="completedTasks">0</span>
                <span class="stat-label">CONCLU√çDAS</span>
              </div>
              <div class="stat-item">
                <span class="stat-number" id="pendingTasks">0</span>
                <span class="stat-label">PENDENTES</span>
              </div>
            </div>
          </div>
        </div>
      </header>

      <!-- Conte√∫do principal -->
      <main class="main-content">
        <div class="container">
          <!-- Se√ß√£o de categorias -->
          <section class="categories-section">
            <div class="section-header">
              <h2 class="section-title">üìÅ Categorias</h2>
              <button class="btn btn-primary" id="addCategoryBtn">
                +Nova Categoria
              </button>
            </div>

            <!-- Grid de cards de categorias -->
            <div class="categories-grid" id="categoriesGrid">
              <!-- Cards inseridos dinamicamente -->
            </div>
          </section>

          <!-- Se√ß√£o de tarefas (aparece quando categoria selecionada) -->
          <section
            class="tasks-section"
            id="tasksSection"
            style="display: none"
          >
            <div class="section-header">
              <h2 class="section-title" id="categoryTitle">
                Categoria Selecionada
              </h2>
              <button class="btn btn-primary" id="addTaskBtn">
                +Nova Tarefa
              </button>
            </div>

            <!-- Formul√°rio r√°pido -->
            <div class="quick-add-form">
              <input
                type="text"
                id="quickTaskInput"
                class="quick-input"
                placeholder="Digite uma tarefa e pressione Enter..."
                maxlength="100"
              />
            </div>

            <!-- Lista de tarefas -->
            <div class="tasks-container">
              <ul class="tasks-list" id="tasksList">
                <!-- Tarefas inseridas dinamicamente -->
              </ul>
            </div>
          </section>
        </div>
      </main>
    </div>

    <!-- Modal de Categoria -->
    <div class="modal-overlay" id="categoryModal" style="display: none">
      <div class="modal">
        <div class="modal-header">
          <h3 id="categoryModalTitle">Nova Categoria</h3>
          <button class="modal-close" id="closeCategoryModal">&times;</button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label for="categoryNameInput">Nome da Categoria:</label>
            <input
              type="text"
              id="categoryNameInput"
              class="form-control"
              placeholder="Ex: Jo√£o Silva"
              maxlength="50"
            />
            <div class="error-message" id="categoryNameError"></div>
          </div>

          <div class="form-group">
            <label>√çcone da Categoria:</label>
            <div class="icon-grid" id="iconGrid">
              <!-- √çcones inseridos dinamicamente -->
            </div>
            <div class="error-message" id="iconError"></div>
          </div>
        </div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-secondary"
            id="cancelCategoryBtn"
          >
            Cancelar
          </button>
          <button type="button" class="btn btn-primary" id="saveCategoryBtn">
            Salvar
          </button>
        </div>
      </div>
    </div>

    <!-- Modal de Tarefa -->
    <div class="modal-overlay" id="taskModal" style="display: none">
      <div class="modal">
        <div class="modal-header">
          <h3 id="taskModalTitle">Nova Tarefa</h3>
          <button class="modal-close" id="closeTaskModal">&times;</button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label for="taskTextInput">Descri√ß√£o da Tarefa:</label>
            <input
              type="text"
              id="taskTextInput"
              class="form-control"
              placeholder="Ex: Ligar para cliente"
              maxlength="100"
            />
            <div class="error-message" id="taskTextError"></div>
          </div>

          <!-- Checkbox recorr√™ncia -->
          <div class="form-group">
            <div class="checkbox-group">
              <input
                type="checkbox"
                id="isRecurringCheckbox"
                class="recurring-checkbox"
              />
              <label for="isRecurringCheckbox" class="recurring-label">
                <span class="checkbox-icon">üîÑ</span>
                Tarefa recorrente semanal
              </label>
            </div>
            <small class="form-hint"
              >Tarefa ser√° renovada automaticamente</small
            >
          </div>

          <!-- Seletor de dia -->
          <div class="form-group" id="dayOfWeekGroup" style="display: none">
            <label for="dayOfWeekSelect">Renovar toda:</label>
            <select id="dayOfWeekSelect" class="form-control">
              <option value="">Escolha o dia da semana</option>
              <option value="0">Domingo</option>
              <option value="1">Segunda-feira</option>
              <option value="2">Ter√ßa-feira</option>
              <option value="3">Quarta-feira</option>
              <option value="4">Quinta-feira</option>
              <option value="5">Sexta-feira</option>
              <option value="6">S√°bado</option>
            </select>
            <div class="error-message" id="dayOfWeekError"></div>
          </div>

          <!-- M√∫ltiplas categorias -->
          <div class="form-group">
            <button type="button" class="add-multiple-btn" id="addMultipleBtn">
              + Adicionar em outras categorias
            </button>
          </div>

          <div
            class="form-group"
            id="multipleCategoriesGroup"
            style="display: none"
          >
            <label>Selecione as categorias:</label>
            <div class="categories-list" id="categoriesList">
              <!-- Checkboxes das categorias -->
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" id="cancelTaskBtn">
            Cancelar
          </button>
          <button type="button" class="btn btn-primary" id="saveTaskBtn">
            Salvar
          </button>
        </div>
      </div>
    </div>

    <!-- Modal de Confirma√ß√£o -->
    <div class="modal-overlay" id="deleteModal" style="display: none">
      <div class="modal modal-small">
        <div class="modal-header">
          <h3>Confirmar Exclus√£o</h3>
          <button class="modal-close" id="closeDeleteModal">&times;</button>
        </div>
        <div class="modal-body">
          <p id="deleteMessage">Tem certeza que deseja excluir?</p>
          <div class="delete-info" id="deleteInfo"></div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" id="cancelDeleteBtn">
            Cancelar
          </button>
          <button type="button" class="btn btn-danger" id="confirmDeleteBtn">
            Excluir
          </button>
        </div>
      </div>
    </div>

    <!-- Script principal -->
    <script type="module" src="app.js"></script>
  </body>
</html>
